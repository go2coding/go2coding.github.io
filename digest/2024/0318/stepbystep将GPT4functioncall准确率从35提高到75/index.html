

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>stepbystep将GPT4functioncall准确率从35%提高到75% 作者： NLP前沿 来源： NLP前沿 https://blog.composio.dev/improving-function-calling-accuracy-for-agentic-integrations/ 背景 参照clickup文档，选定了一些api，并转换成openai function schema格式，具体如下： https://github.com/SamparkAI/fcalling-clickup-blog-code/blob/master/clickup_space_schema.json get_spaces(team_id:string, archived:boolean) create_space(team_id:string, name:string, multiple_assignees:boolean, features:(due_dates:(enabled:boolean, start_date:boolean, remap_due_dates:boolean, remap_closed_due_date:boolean), time_tracking:(enabled:boolean))) get_space(space_id:string) update_space(space_id:string, name:string, color:string, private:boolean, admin_can_manage:boolean, multiple_assignees:boolean, features:(due_dates:(enabled:boolean, start_date:boolean, remap_due_dates:boolean, remap_closed_due_date:boolean), time_tracking:(enabled:boolean))) delete_space(space_id:string) get_space_tags(space_id:string) create_space_tag(space_id:string, tag:(name:string, tag_fg:string, tag_bg:string)) delete_space_tag(space_id:string, tag_name:string, tag:(name:string, tag_fg:string, tag_bg:string)) 为了有效地评估结果，制作了小型的基准数据集  | AiBard123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AiBard123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://aibard123.com/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://aibard123.com/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">stepbystep将GPT4functioncall准确率从35%提高到75%</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://aibard123.com/about>AiBard123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              March 18, 2024 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaw3zUHP6nqibOuKTa8ahqJwr7Qxe70hIiazwaS35myIza8Q8Yh86RrFbw/640?wx_fmt=png&amp;from=appmsg" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： NLP前沿  来源： <a href="https://mp.weixin.qq.com/s/tRYSDN9HMVBxTr3_egeQrw">NLP前沿</a></p>
<pre><code>https://blog.composio.dev/improving-function-calling-accuracy-for-agentic-integrations/  
</code></pre>
<h4 id="背景">背景</h4>
<p>参照clickup文档，选定了一些api，并转换成openai function schema格式，具体如下：</p>
<pre><code>https://github.com/SamparkAI/fcalling-clickup-blog-code/blob/master/clickup_space_schema.json  
  
get_spaces(team_id:string, archived:boolean)  
create_space(team_id:string, name:string, multiple_assignees:boolean, features:(due_dates:(enabled:boolean, start_date:boolean, remap_due_dates:boolean, remap_closed_due_date:boolean), time_tracking:(enabled:boolean)))  
get_space(space_id:string)  
update_space(space_id:string, name:string, color:string, private:boolean, admin_can_manage:boolean, multiple_assignees:boolean, features:(due_dates:(enabled:boolean, start_date:boolean, remap_due_dates:boolean, remap_closed_due_date:boolean), time_tracking:(enabled:boolean)))  
delete_space(space_id:string)  
get_space_tags(space_id:string)  
create_space_tag(space_id:string, tag:(name:string, tag_fg:string, tag_bg:string))  
delete_space_tag(space_id:string, tag_name:string, tag:(name:string, tag_fg:string, tag_bg:string))  
</code></pre>
<p>为了有效地评估结果，制作了小型的基准数据集，要求解决八个选定函数之一，范围从简单到复杂。 我们的评估将基于使用正确参数调用函数的准确程度。</p>
<pre><code>https://github.com/SamparkAI/fcalling-clickup-blog-code/blob/master/clickup_space_benchmark.json  
  
[  
  {  
    &quot;prompt&quot;: &quot;As the new fiscal year begins, the management team at a marketing agency decides it's time to archive older projects to make way for new initiatives. They remember that one of their teams is called \&quot;Innovative Solutions\&quot; and operates under the team ID \&quot;team123\&quot;. They want to check which spaces under this team are still active before deciding which ones to archive.&quot;,  
    &quot;solution&quot;: &quot;get_spaces(team_id=\&quot;team123\&quot;, archived=False)&quot;  
  },  
  {  
    &quot;prompt&quot;: &quot;Ella, the project coordinator, is setting up a new project space in ClickUp for the \&quot;Creative Minds\&quot; team with team ID \&quot;cm789\&quot;. This space, named \&quot;Innovative Campaigns 2023\&quot;, should allow multiple assignees for tasks, but keep due dates and time tracking disabled, as the initial planning phase doesn't require strict deadlines or time monitoring.&quot;,  
    &quot;solution&quot;: &quot;create_space(team_id=\&quot;cm789\&quot;, name=\&quot;Innovative Campaigns 2023\&quot;, multiple_assignees=True, features=(due_dates=(enabled=False, start_date=False, remap_due_dates=False, remap_closed_due_date=False), time_tracking=(enabled=False)))&quot;  
  },  
...  
]  
</code></pre>
<h4 id="baseline-no-system-prompt">baseline （No system prompt）</h4>
<p>独立评估GPT-4的性能，而不受任何系统提示的影响。</p>
<pre><code>fcalling_llm = lambda fprompt : client.chat.completions.create(  
  model=&quot;gpt-4-turbo-preview&quot;,  
  messages=[  
    {  
      &quot;role&quot;: &quot;system&quot;,  
      &quot;content&quot;: &quot;&quot;&quot;&quot;&quot;&quot;  
    },  
    {  
      &quot;role&quot;: &quot;user&quot;,  
      &quot;content&quot;: prompt  
    },  
  ],  
  temperature=0,  
  max_tokens=4096,  
  top_p=1,  
  tools=tools,  
  tool_choice=&quot;auto&quot;  
)  
  
response = fcalling_llm(bench_data[1][&quot;prompt&quot;])  
</code></pre>
<p>我们设置了temperature=0，以使结果不随机，实验了3次平均准确率为30%。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsiboua69VsYaTQekmKUic9zDiaMEasWZKjZ9HOJoXekJT3uny5g4lHXHLylA6Q/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="嵌套结构参数拉化-flattening-the-parameters">嵌套结构参数拉化 (Flattening the Parameters)</h4>
<p>有些函数要求输出参数以嵌套结构的形式提供。以下是一个示例-</p>
<pre><code>{  
    &quot;name&quot;: &quot;create_space&quot;,  
    &quot;description&quot;: &quot;Add a new Space to a Workspace.&quot;,  
    &quot;parameters&quot;: {  
      &quot;type&quot;: &quot;object&quot;,  
      &quot;properties&quot;: {  
        &quot;team_id&quot;: {  
          &quot;type&quot;: &quot;string&quot;,  
          &quot;description&quot;: &quot;The ID of the team&quot;  
        },  
        &quot;name&quot;: {  
          &quot;type&quot;: &quot;string&quot;,  
          &quot;description&quot;: &quot;The name of the new space&quot;  
        },  
        &quot;multiple_assignees&quot;: {  
          &quot;type&quot;: &quot;boolean&quot;,  
          &quot;description&quot;: &quot;Enable or disable multiple assignees for tasks within the space&quot;  
        },  
        &quot;features&quot;: {  
          &quot;type&quot;: &quot;object&quot;,  
          &quot;description&quot;: &quot;Enabled features within the space&quot;,  
          &quot;properties&quot;: {  
            &quot;due_dates&quot;: {  
              &quot;type&quot;: &quot;object&quot;,  
              &quot;description&quot;: &quot;Due dates feature settings&quot;,  
              &quot;properties&quot;: {  
                &quot;enabled&quot;: { &quot;type&quot;: &quot;boolean&quot; },  
                &quot;start_date&quot;: { &quot;type&quot;: &quot;boolean&quot; },  
                &quot;remap_due_dates&quot;: { &quot;type&quot;: &quot;boolean&quot; },  
                &quot;remap_closed_due_date&quot;: { &quot;type&quot;: &quot;boolean&quot; }  
              }  
            },  
            &quot;time_tracking&quot;: {  
              &quot;type&quot;: &quot;object&quot;,  
              &quot;description&quot;: &quot;Time tracking feature settings&quot;,  
              &quot;properties&quot;: {  
                &quot;enabled&quot;: { &quot;type&quot;: &quot;boolean&quot; }  
              }  
            }  
          }  
        }  
      },  
      &quot;required&quot;: [&quot;team_id&quot;, &quot;name&quot;, &quot;multiple_assignees&quot;, &quot;features&quot;]  
    }  
  }  
</code></pre>
<p>根据对LLM的经验，虽然模型（GPT-4）已经针对结构化输出进行了优化，但复杂的输出结构实际上可能会降低LLM输出的性能和准确性。</p>
<p>因此，我们以前缀方式展平这些参数。</p>
<p>展平后的上述函数将如下所示：</p>
<pre><code>{  
        &quot;description&quot;: &quot;Add a new Space to a Workspace.&quot;,  
        &quot;name&quot;: &quot;create_space&quot;,  
        &quot;parameters&quot;: {  
            &quot;properties&quot;: {  
                &quot;features__due_dates__enabled&quot;: {  
                    &quot;description&quot;: &quot;enabled__Due dates feature settings__Enabled features within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;features__due_dates__remap_closed_due_date&quot;: {  
                    &quot;description&quot;: &quot;remap_closed_due_date__Due dates feature settings__Enabled features within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;features__due_dates__remap_due_dates&quot;: {  
                    &quot;description&quot;: &quot;remap_due_dates__Due dates feature settings__Enabled features within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;features__due_dates__start_date&quot;: {  
                    &quot;description&quot;: &quot;start_date__Due dates feature settings__Enabled features within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;features__time_tracking__enabled&quot;: {  
                    &quot;description&quot;: &quot;enabled__Time tracking feature settings__Enabled features within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;multiple_assignees&quot;: {  
                    &quot;description&quot;: &quot;Enable or disable multiple assignees for tasks within the space__&quot;,  
                    &quot;type&quot;: &quot;boolean&quot;  
                },  
                &quot;name&quot;: {  
                    &quot;description&quot;: &quot;The name of the new space__&quot;,  
                    &quot;type&quot;: &quot;string&quot;  
                },  
                &quot;team_id&quot;: {  
                    &quot;description&quot;: &quot;The ID of the team__&quot;,  
                    &quot;type&quot;: &quot;string&quot;  
                }  
            },  
            &quot;required&quot;: [  
                &quot;team_id&quot;,  
                &quot;name&quot;,  
                &quot;multiple_assignees&quot;,  
                &quot;features__due_dates__enabled&quot;,  
                &quot;features__due_dates__start_date&quot;,  
                &quot;features__due_dates__remap_due_dates&quot;,  
                &quot;features__due_dates__remap_closed_due_date&quot;,  
                &quot;features__time_tracking__enabled&quot;  
            ],  
            &quot;type&quot;: &quot;object&quot;  
        }  
    }  
</code></pre>
<p>我们将参数名称与其上级参数连接起来。例如：features__due_dates__enabled、features__due_dates__remap_due_dates，3次测试结果如下<img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaBww7TLkGCLYsxkuLPibRGSfWK1OIBW4W0QJvHwfUiagCc2ARs5qpdHpQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="添加系统提示词-adding-system-prompt">添加系统提示词 （Adding System Prompt）</h4>
<p>之前调用没有使用系统提示词，所以LLM没有被指示其角色或与ClickUp API交互的方式。现在让我们添加一个简单的系统提示。</p>
<pre><code>from openai import OpenAI  
client = OpenAI()  
  
fcalling_llm = lambda fprompt : client.chat.completions.create(  
  model=&quot;gpt-4-turbo-preview&quot;,  
  messages=[  
    {  
      &quot;role&quot;: &quot;system&quot;,  
      &quot;content&quot;: &quot;&quot;&quot;  
You are an agent who is responsible for managing various employee management platform,   
one of which is ClickUp.  
  
When you are presented with a technical situation, that a person of a team is facing,   
you must give the soulution utilizing your functionalities.   
&quot;&quot;&quot;  
    },  
    {  
      &quot;role&quot;: &quot;user&quot;,  
      &quot;content&quot;: fprompt  
    },  
  ],  
  temperature=0,  
  max_tokens=4096,  
  top_p=1,  
  tools=tools,  
  tool_choice=&quot;auto&quot;  
)  
  
response = fcalling_llm(bench_data[1][&quot;prompt&quot;])  
</code></pre>
<h4 id="优化系统提示词-improving-system-prompt">优化系统提示词 （Improving System Prompt）</h4>
<p>可以看到通过添加一个系统提示，可以提高性能，增强其细节，以评估性能的提升是否持续。</p>
<pre><code>You are an agent who is responsible for managing various employee management platform,   
one of which is ClickUp.   
  
You are given a number of tools as functions, you must use one of those tools and fillup   
all the parameters of those tools ,whose answers you will get from the given situation.  
  
When you are presented with a technical situation, that a person of a team is facing,   
you must give the soulution utilizing your functionalities.   
  
First analyze the given situation to fully anderstand what is the intention of the user,  
what they need and exactly which tool will fill up that necessity.  
  
Then look into the parameters and extract all the relevant informations to fillup the   
parameter with right values.  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouakpeGkxRhWmSNL4SJ34zWGmhZyL3eMo1FWFH9fhKV3hSfyrnxQeqjibA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="在系统提示词中添加工具描述摘要-adding-schema-summary-in-schema-prompt">在系统提示词中添加工具描述摘要 （Adding Schema Summary in Schema Prompt）</h4>
<p>在系统提示词的，角色之外，添加工具的功能，已进一步增强系统提示</p>
<p>以下是我们添加到提示词中的工具的简明摘要。</p>
<pre><code>get_spaces - View the Spaces available in a Workspace.  
create_space - Add a new Space to a Workspace.  
get_space - View the details of a specific Space in a Workspace.  
update_space - Rename, set the Space color, and enable ClickApps for a Space.  
delete_space - Delete a Space from your Workspace.  
get_space_tags - View the task Tags available in a Space.  
create_space_tag - Add a new task Tag to a Space.  
delete_space_tag - Delete a task Tag from a Space.  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaeXpJIHicZD9icO5mbdIkBm2nhSeuYyZ0Y7WPGgS2hTnT2rmu9nr3A8CQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="优化函数名-optimising-function-names">优化函数名 （Optimising Function Names）</h4>
<p>现在，让函数名更具描述性</p>
<pre><code>schema_func_name_dict = {  
    &quot;get_spaces&quot;: &quot;get_all_clickup_spaces_available&quot;,  
    &quot;create_space&quot;: &quot;create_a_new_clickup_space&quot;,  
    &quot;get_space&quot;: &quot;get_a_specific_clickup_space_details&quot;,  
    &quot;update_space&quot;: &quot;modify_an_existing_clickup_space&quot;,  
    &quot;delete_space&quot;: &quot;delete_an_existing_clickup_space&quot;,  
    &quot;get_space_tags&quot;: &quot;get_all_tags_of_a_clickup_space&quot;,  
    &quot;create_space_tag&quot;: &quot;assign_a_tag_to_a_clickup_space&quot;,  
    &quot;delete_space_tag&quot;: &quot;remove_a_tag_from_a_clickup_space&quot;,  
}  
  
optimized_schema = []  
for sc in flattened_schema:  
    temp_dict = sc.copy()  
    temp_dict[&quot;name&quot;] = schema_func_name_dict[temp_dict[&quot;name&quot;]]  
    optimized_schema.append(temp_dict)  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouauYnZwUTicWG53BYzHSzyBjClsd055fWspgWtAS9orBlOUOFaD17ckuA/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="优化函数描述-optimising-function-description">优化函数描述 （Optimising Function Description）</h4>
<pre><code>schema_func_decription_dict = {  
    &quot;get_spaces&quot;: &quot;Retrives information of all the spaces available in user's Clickup Workspace.&quot;,  
    &quot;create_space&quot;: &quot;Creates a new ClickUp space&quot;,  
    &quot;get_space&quot;: &quot;Retrives information of a specific Clickup space&quot;,  
    &quot;update_space&quot;: &quot;Modifies name, settings the Space color, and assignee management Space.&quot;,  
    &quot;delete_space&quot;: &quot;Delete an existing space from user's ClickUp Workspace&quot;,  
    &quot;get_space_tags&quot;: &quot;Retrives all the Tags assigned on all the tasks in a Space.&quot;,  
    &quot;create_space_tag&quot;: &quot;Assigns a customized Tag in a ClickUp Space.&quot;,  
    &quot;delete_space_tag&quot;: &quot;Deletes a specific tag previously assigned in a space.&quot;,  
}  
  
optimized_schema = []  
for sc in flattened_schema:  
    temp_dict = sc.copy()  
    temp_dict[&quot;description&quot;] = schema_func_decription_dict[temp_dict[&quot;name&quot;]]  
    optimized_schema.append(temp_dict)  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaw3zUHP6nqibOuKTa8ahqJwr7Qxe70hIiazwaS35myIza8Q8Yh86RrFbw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="优化参数描述-optimising-function-parameter-descriptions">优化参数描述 （Optimising Function Parameter Descriptions）</h4>
<p>之前，我们通过将嵌套参数的描述与其父级描述堆叠在一起，直到它们处于扁平化状态，来扁平化模式。</p>
<p>现在让我们将它们替换为：</p>
<pre><code>schema_func_params_dict = {  
    'create_space': {  
        'features__due_dates__enabled': 'If due date feature is enabled within the space. Default: True',  
        'features__due_dates__remap_closed_due_date': 'If remapping closed date feature in due dates is available within the space. Default: False',  
        'features__due_dates__remap_due_dates': 'If remapping due date feature in due dates is available within the space. Default: False',  
        'features__due_dates__start_date': 'If start date feature in due dates is available within the space. Default: False',  
        'features__time_tracking__enabled': 'If time tracking feature is available within the space. Default: True',  
        'multiple_assignees': 'Enable or disable multiple assignees for tasks within the space. Default: True',  
        'name': 'The name of the new space to create',  
        'team_id': 'The ID of the team'  
        },  
    'create_space_tag': {  
        'space_id': 'The ID of the space',  
        'tag__name': 'The name of the tag to assign',  
        'tag__tag_bg': 'The background color of the tag to assign',  
        'tag__tag_fg': 'The foreground(text) color of the tag to assign'  
        },  
    'delete_space': {  
        'space_id': 'The ID of the space to delete'  
        },  
    'delete_space_tag': {  
        'space_id': 'The ID of the space',  
        'tag__name': 'The name of the tag to delete',  
        'tag__tag_bg': 'The background color of the tag to delete',  
        'tag__tag_fg': 'The foreground color of the tag to delete',  
        'tag_name': 'The name of the tag to delete'  
        },  
    'get_space': {  
        'space_id': 'The ID of the space to retrieve details'  
        },  
    'get_space_tags': {  
        'space_id': 'The ID of the space to retrieve all the tags from'  
        },  
    'get_spaces': {  
        'archived': 'A flag to decide whether to include archived spaces or not. Default: True',  
        'team_id': 'The ID of the team'  
        },  
    'update_space': {  
        'admin_can_manage': 'A flag to determine if the administrator can manage the space or not. Default: True',  
        'color': 'The color used for the space',  
        'features__due_dates__enabled': 'If due date feature is enabled within the space. Default: True',  
        'features__due_dates__remap_closed_due_date': 'If remapping closed date feature in due dates is available within the space. Default: False',  
        'features__due_dates__remap_due_dates': 'If remapping due date feature in due dates is available within the space. Default: False',  
        'features__due_dates__start_date': 'If start date feature in due dates is available within the space. Default: False',  
        'features__time_tracking__enabled': 'If time tracking feature is available within the space. Default: True',  
        'multiple_assignees': 'Enable or disable multiple assignees for tasks within the space. Default: True',  
        'name': 'The new name of the space',  
        'private': 'A flag to determine if the space is private or not. Default: False',  
        'space_id': 'The ID of the space'  
        }  
        }  
  
optimized_schema = []  
for sc in flattened_schema:  
    temp_dict = sc.copy()  
    temp_dict[&quot;description&quot;] = schema_func_decription_dict[temp_dict[&quot;name&quot;]]  
    for func_param_name, func_param_description in schema_func_params_dict[temp_dict[&quot;name&quot;]].items():  
        sc[&quot;parameters&quot;][&quot;properties&quot;][func_param_name][&quot;description&quot;] = func_param_description  
    optimized_schema.append(temp_dict)  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouageUjqiaGGaL1VXl9FeNIvXC4C8HjdlIpcBxOCbMFkNyxntAGeYGTDGQ/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>对于所有的运行，我们得分都达到或超过了75%。</p>
<h4 id="函数描述添加示例-adding-examples-of-function-calls">函数描述添加示例 （Adding Examples of Function Calls）</h4>
<p>LLMs 一般在few-shot下表现更好。所以在每个工具的描述中提供一些调用示例</p>
<pre><code>schema_func_decription_dict = {  
    &quot;get_spaces&quot;: &quot;&quot;&quot;\  
Retrives information of all the spaces available in user's Clickup Workspace. Example Call:  
\```python  
get_spaces({'team_id': 'a1b2c3d4', 'archived': False})  
\```  
    &quot;&quot;&quot;,  
    &quot;create_space&quot;: &quot;&quot;&quot;\  
Creates a new ClickUp space. Example Call:  
\```python  
create_space ({  
  'team_id': 'abc123',  
  'name': 'NewWorkspace',  
  'multiple_assignees': True,  
  'features__due_dates__enabled': True,  
  'features__due_dates__start_date': False,  
  'features__due_dates__remap_due_dates': False,  
  'features__due_dates__remap_closed_due_date': False,  
  'features__time_tracking__enabled': True  
})  
\```}  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaiaCL5gic8DsP2MGYAr3gE7Lu1iaBhIQAu9qzagLZB1BLCzThdWgJkoUOw/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>很遗憾，分数似乎在下降！</p>
<h4 id="参数值添加示例adding-example-parameter-values">参数值添加示例（Adding Example Parameter Values）</h4>
<p>由于函数描述中调用示例没有起作用，现在让我们尝试向函数参数添加示例值，以提供更清晰的输入值的概念。我们将相应调整函数参数的描述。</p>
<pre><code>schema_func_params_dict = {  
    'create_space': {  
        'features__due_dates__enabled': 'If due date feature is enabled within the space. \nExample: True, False \nDefault: True',  
        'features__due_dates__remap_closed_due_date': 'If remapping closed date feature in due dates is available within the space. \nExample: True, False \nDefault: False',  
        'features__due_dates__remap_due_dates': 'If remapping due date feature in due dates is available within the space. \nExample: True, False \nDefault: False',  
        'features__due_dates__start_date': 'If start date feature in due dates is available within the space. \nExample: True, False \nDefault: False',  
        'features__time_tracking__enabled': 'If time tracking feature is available within the space. \nExample: True, False \nDefault: True',  
        'multiple_assignees': 'Enable or disable multiple assignees for tasks within the space \nExample: True, False. Default: True',  
        'name': 'The name of the new space to create \nExample:  \'NewWorkspace\', \'TempWorkspace\'',  
        'team_id': 'The ID of the team \nExample:  \'abc123\', \'def456\' '  
        },  
    'create_space_tag': {  
        'space_id': 'The ID of the space \nExample:  \'abc123\', \'def456\'',  
        'tag__name': 'The name of the tag to assign \nExample:  \'NewTag\', \'TempTag\'',  
        'tag__tag_bg': 'The background color of the tag to assign \nExample:  \'#FF0000\', \'#00FF00\'',  
        'tag__tag_fg': 'The foreground(text) color of the tag to assign \nExample:  \'#FF0000\', \'#00FF00\''  
        },  
    'delete_space': {  
        'space_id': 'The ID of the space to delete \nExample:  \'abc123\', \'def456\''  
        },  
    'delete_space_tag': {  
        'space_id': 'The ID of the space to delete \nExample:  \'abc123\', \'def456\'',  
        'tag__name': 'The name of the tag to delete \nExample:  \'NewTag\', \'TempTag\'',  
        'tag__tag_bg': 'The background color of the tag to delete \nExample:  \'#FF0000\', \'#00FF00\', \'#0000FF\'',  
        'tag__tag_fg': 'The foreground color of the tag to delete \nExample:  \'#FF0000\', \'#00FF00\', \'#0000FF\'',  
        'tag_name': 'The name of the tag to delete \nExample:  \'NewTag\', \'TempTag\''  
        },  
    'get_space': {  
        'space_id': 'The ID of the space to retrieve details \nExample:  \'abc123\', \'def456\''  
        },  
    'get_space_tags': {  
        'space_id': 'The ID of the space to retrieve all the tags from \nExample:  \'abc123\', \'def456\''  
        },  
    'get_spaces': {  
        'archived': 'A flag to decide whether to include archived spaces or not \nExample:  True, False. Default: True',  
        'team_id': 'The ID of the team \nExample:  \'abc123\', \'def456\''  
        },  
    'update_space': {  
        'admin_can_manage': 'A flag to determine if the administrator can manage the space or not \nExample:  True, False. Default: True',  
        'color': 'The color used for the space \nExample:  \'#FF0000\', \'#00FF00\'',  
        'features__due_dates__enabled': 'If due date feature is enabled within the space. \nExample:  True, False \nDefault: True',  
        'features__due_dates__remap_closed_due_date': 'If remapping closed date feature in due dates is available within the space. Default: False',  
        'features__due_dates__remap_due_dates': 'If remapping due date feature in due dates is available within the space. Default: False',  
        'features__due_dates__start_date': 'If start date feature in due dates is available within the space. Default: False',  
        'features__time_tracking__enabled': 'If time tracking feature is available within the space. \nExample:  True, False \nDefault: True',  
        'multiple_assignees': 'Enable or disable multiple assignees for tasks within the space \nExample:  True, False. Default: True',  
        'name': 'The new name of the space \nExample:  \'NewWorkspace\', \'TempWorkspace\'',  
        'private': 'A flag to determine if the space is private or not \nExample:  True, False. Default: False',  
        'space_id': 'The ID of the space to update \nExample:  \'abc123\', \'def456\''  
        }  
        }  
</code></pre>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouaPzg68bgXScp1IHwdt9cyMGRZruvzjjxCILibibFakd52n1KHpAFlTZHg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<h4 id="总结">总结：</h4>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/4d6kn6AwWww8a1eryG3EWzrbTVCsibouapgMpC9iaClGZ0S13rgDcL1N6GJGLACSuteIfCa6C9Lib4lxiapHbd8cCg/640?wx_fmt=png&amp;from=appmsg" alt=""></p>
<p>更多AI工具，参考<a href="https://aibard123.com/">Github-AiBard123</a>，<a href="https://aibard123.com/">国内AiBard123</a></p>



          </div>

可关注我们的公众号：每天AI新工具

<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


