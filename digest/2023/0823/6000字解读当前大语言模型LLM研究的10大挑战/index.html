

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>6000字解读：当前大语言模型LLM研究的10大挑战 作者： 阿法兔研究笔记 来源： 阿法兔研究笔记 在大语言模型迅速发展了一段时间之后，目前都有哪些主流研究方向和共同挑战？经本文作者Chip Huye n授权，阿法兔翻译了这篇文章。也欢迎大家关注Chip Huyen的推特**@chipro** 欢迎大家转发到朋友  | AiBard123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AiBard123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://aibard123.com/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://aibard123.com/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">6000字解读：当前大语言模型LLM研究的10大挑战</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://aibard123.com/about>AiBard123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              August 23, 2023 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKfhXic2KaghxXTvtiasfMAxAL5h6YZcwkicbbcbaAbzKicC5t3hDIX302Dw/640?wx_fmt=png" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： 阿法兔研究笔记  来源： <a href="https://mp.weixin.qq.com/s/FDWn6JkOi_nDaK59ogeBIw">阿法兔研究笔记</a></p>
<p>在大语言模型迅速发展了一段时间之后，目前都有哪些主流研究方向和共同挑战？经本文作者<strong>Chip Huye</strong> n授权，阿法兔翻译了这篇文章。也欢迎大家关注Chip Huyen的推特**@chipro**</p>
<p>欢迎大家转发到朋友圈~~<strong>这样兔儿就更有动力发更多好内容了~</strong></p>
<p><strong>转载本文，请务必附上</strong>作者、译者姓名** ，以及所有参考文献链接*</p>
<p><strong>Open challenges in LLM research</strong></p>
<p>**本文6600字左右，*<em>作者Chip Huyen，译者：阿法兔</em></p>
<p><em>来源链接：https://huyenchip.com/2023/08/16/llm-research-open-challenges.html</em></p>
<p><strong>让大语言模型变得更完善这个目标，是我一生中，第一次见到这么多的聪明人，同时在为一个共同目标而努力</strong> 。在同众多业界和学术界人士交流后，我注意到出现了十大研究方向。目前受到关注最多的两个方向是Hallucinations（输出幻觉） 和 Context Learning。</p>
<p>而对我自己来说，最感兴趣的是下面列出的第 3 个方向（Multimodality多模态数据模式）、第 5 个方向（New architecture 新架构）和第 6 个方向（GPU alternatives开发GPU替代的解决方案）</p>
<p>LLM 研究的十大公开挑战</p>
<ol>
<li>
<p>减少并评估输出输出（虚构信息）</p>
</li>
<li>
<p>优化上下文长度和上下文构建</p>
</li>
<li>
<p>融合其他数据形式</p>
</li>
<li>
<p>提升语言模型的速度和成本效益</p>
</li>
<li>
<p>设计新的模型架构</p>
</li>
<li>
<p>开发替代GPU的解决方案</p>
</li>
<li>
<p>提升代理（人工智能）的可用性</p>
</li>
<li>
<p>改进从人类偏好中学习的能力</p>
</li>
<li>
<p>提高聊天界面的效率</p>
</li>
<li>
<p>构建用于非英语语言的语言模型</p>
</li>
</ol>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKLA4p9DI4ERtLzvHKAnmU56LFJED0CGqVk4zxMKVu1CtuK1MMENrK3w/640?wx_fmt=png" alt=""></p>
<p>**1.**<strong>减少和评估幻觉</strong></p>
<p>输出环境是一个已经被大量讨论过的话题，所以这里我会长话短说。当人工智能模型胡编乱造时，就会产生幻觉。对于许多创意用例来说，幻觉属于功能的一种。然而，对于大多数应用场景来说，幻觉属于一种错误。最近，我与 Dropbox、Langchain、Elastics 和 Anthropic 的专家共同参加了一个关于 LLM 的专题讨论会**，在他们看来，企业在实际生产中，应用 LLM 需要克服的首要障碍就是幻觉输出。**</p>
<p>降低模型的幻觉输出和制定评估幻觉输出的指标，是一个蓬勃发展的研究课题，目前很多初创公司都在关注这个问题。还有一些技巧可以减少幻觉输出的概率，例如在提示词中添加更多上下文、CoT、自洽性，或者特定要求模型的响应简洁明了。</p>
<p><strong>下面是关于幻觉输出的系列论文和参考资料：</strong></p>
<ul>
<li>
<p><em>Survey of Hallucination in Natural Language Generation(Ji et al., 2022)</em></p>
</li>
<li>
<p><em>How Language Model Hallucinations Can Snowball(Zhang et al., 2023)</em></p>
</li>
<li>
<p><em>A Multitask, Multilingual, Multimodal Evaluation of ChatGPT on Reasoning, Hallucination, and Interactivity(Bang et al., 2023)</em></p>
</li>
<li>
<p><em>Contrastive Learning Reduces Hallucination in Conversations(Sun et al., 2022)</em></p>
</li>
<li>
<p><em>Self-Consistency Improves Chain of Thought Reasoning in Language Models(Wang et al., 2022)</em></p>
</li>
<li>
<p><em>SelfCheckGPT: Zero-Resource Black-Box Hallucination Detection for Generative Large Language Models(Manakul et al., 2023)</em></p>
</li>
<li>
<p><em>A simple example of fact-checking and hallucination by NVIDIA’s NeMo-Guardrails</em></p>
</li>
</ul>
<p><strong>2.优化上下文长度和上下文构建</strong></p>
<p>绝大部分问题都需要上下文。例如，如果我们问ChatGPT：“哪家越南餐厅最好？”所需的上下文将是“这个餐厅的限定范围到底在哪里？”，因为越南本土最好吃的餐厅与美国的最好吃的越南餐厅，这个问题的范围是不同的。</p>
<p>根据下面这篇很酷的论文《 SITUATEDQA: Incorporating Extra-Linguistic Contexts into QA 》（Zhang＆Choi，2021），有相当一部分信息搜索问题的答案与上下文有关，例如，在Natural Questions NQ-Open 数据集中大约占 16.5%。</p>
<p><em>（NQ-Open:https://ai.google.com/research/NaturalQuestions）</em></p>
<p><strong>我个人认为，在企业实际遇到的案例中，这一比例会更高。</strong> 例如，假设一家公司为客户支持建立了一个聊天机器人，要让这个聊天机器人回答客户关于任何产品的任何问题，所需的上下文很可能是该客户的历史或该产品的信息。由于语言模型会从提供给它的上下文中 &ldquo;学习&rdquo;，因此这一过程也被称为上下文学习。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKmfoplEDnax8ygiaaJcCW4vKpiacpxblSeBNwbbZa35kBZsySwL9uBfhw/640?wx_fmt=png" alt=""><em>客户支持查询所需的上下文</em></p>
<p>Context length 对于RAG（检索增强生成）非常重要，而RAG已成为大语言模型行业应用场景的主要模式。具体来说，检索增强生成主要分为两个阶段：</p>
<p><strong>第 1 阶段：分块（也称为编制索引）chunking (also known as indexing)</strong></p>
<p>收集LLM使用的所有文档,将这些文档分成可以喂入大于模型，以生成嵌入的块，并将这些嵌入存储在向量数据库中。</p>
<p><strong>第2阶段：查询</strong></p>
<p>当用户发送查询时，如 &ldquo;我的保险单是否能够支付某种药物 X&rdquo;，大语言模型会将此查询转换为embedding，我们称之为 QUERY_EMBEDDING。向量数据库，会获取embedding与 QUERY_EMBEDDING 最相似的块。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQK1Yapx3zujiaLddd35G3gNSibJhCjIY0uQ7r27gy1pJkOlVycSPWfookA/640?wx_fmt=png" alt=""></p>
<p>上下文长度越长，我们就能在上下文中squeeze越多的chunks 。模型获取的信息越多，它的输出和回应质量就会越高，是这样的吗？</p>
<p>并非总是如此。模型能用多少上下文，和模型使用上下文的效率如何，是两个不同的问题。在努力增加模型上下文长度的同时，我们也在努力提高上下文的效率。有人称之为 &ldquo;提示工程prompt engineering &ldquo;或 &ldquo;prompt construction&rdquo;。例如，最近有一篇论文谈到了模型如何更好地理解索引开头和结尾，而不仅是中间的信息——<em>Lost in the Middle: How Language Models Use Long Contexts (Liu et al., 2023).</em></p>
<p><strong>3. 其他数据模式融入（多模态）</strong></p>
<p>在我看来，多模态是非常强大的，但是它也同样被低估了。这里解释一下多模态的应用原因：</p>
<p>首先，许多具体应用场景都需要多模态数据，尤其是在医疗保健、机器人、电子商务、零售、游戏、娱乐等混合数据模态的行业。举例来说：</p>
<ul>
<li>
<p>医疗检测通常需要文本（如医生笔记、患者问卷）和图像（如 CT、X 光片、核磁共振扫描片）。</p>
</li>
<li>
<p>产品的Metadata通常包含图片、视频、描述，甚至表格数据（如生产日期、重量、颜色），<strong>因为从需求角度，您可能会需要根据用户的评论或产品照片，自动填补缺失的产品信息，或者希望让用户能够使用形状或颜色等视觉信息，进行产品搜索。</strong></p>
</li>
</ul>
<p>其次，多模态有望大幅提升模型性能。一个既能理解文本又能理解图像的模型，难道不应该比单一能理解文本的模型表现更好吗？<strong>基于文本的模型，需要大量文本，以至于我们担心很快就会用完互联网数据来训练基于文本的模型。一旦文本耗尽，我们就需要利用其他数据模式。</strong></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKeBwVy0ASDRicuLX5OIza09mRhqxzpicGILx1IeLUPWUET79viak6qPKBg/640?wx_fmt=png" alt=""></p>
<p><strong>让我特别兴奋的一个使用案例是，多模态技术可以让视障人士浏览互联网和浏览现实世界。</strong></p>
<p><strong>下面是关于多模态相关的系列论文和参考资料：</strong></p>
<ul>
<li>
<p><em>[CLIP] Learning Transferable Visual Models From Natural Language Supervision(OpenAI, 2021)</em></p>
</li>
<li>
<p><em>Flamingo: a Visual Language Model for Few-Shot Learning(DeepMind, 2022)</em></p>
</li>
<li>
<p><em>BLIP-2: Bootstrapping Language-Image Pre-training with Frozen Image Encoders and Large Language Models(Salesforce, 2023)</em></p>
</li>
<li>
<p><em>KOSMOS-1: Language Is Not All You Need: Aligning Perception with Language Models(Microsoft, 2023)</em></p>
</li>
<li>
<p><em>PaLM-E: An embodied multimodal language model(Google, 2023)</em></p>
</li>
<li>
<p><em>LLaVA: Visual Instruction Tuning(Liu et al., 2023)</em></p>
</li>
<li>
<p><em>NeVA: NeMo Vision and Language Assistant (NVIDIA, 2023)</em></p>
</li>
</ul>
<p><strong>4. 让 LLM 更快、成本更低</strong></p>
<p>当GPT-3.5在2022年11月底首次发布时，很多人对在生产中使用它的延迟和成本表示担忧。然而，自那时以来，延迟/成本分析已经迅速发生了变化。在不到半年的时间里，社区找到了一种方法，可以创建一个性能与GPT-3.5非常接近的模型，但所需的内存占用仅为GPT-3.5的2%左右。</p>
<p><strong>这里的启示是：如果你创造出足够优秀的东西，人们会找到一种方法让它变得快速且经济高效。</strong></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKiasPaEicjD6brcDia6eCwyxUechSmQrwWZLDTM0l2ibJ885tVM2iclYYemg/640?wx_fmt=png" alt=""></p>
<p>以下是《Guanaco 7B》的性能数据，与ChatGPT GPT-3.5和GPT-4的性能进行了比较，根据《Guanco》论文中的报告。<strong>请注意：总体而言，下列关于性能的比较，离完美还差很远，并且，对LLM的评估非常非常困难。</strong></p>
<p>Guanaco 7B 与 ChatGPT GPT-3.5 和 GPT-4 的性能比较：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKlXFTKcTnib2PQL1QYicrEE6L3UHKHzxVeoPHQ5WN4E4LWwZre9JyjL1Q/640?wx_fmt=png" alt=""></p>
<p>四年前，当我开始为《设计机器学习系统》一书撰写后来成为 &ldquo;模型压缩 &ldquo;部分的笔记时，我写了关于模型优化/压缩的四种主要技术：</p>
<ul>
<li>
<p>Quantization：迄今为止最通用的模型优化方法。量化通过使用较少的位数来表示模型的参数来减小模型的大小，例如，可以使用16位甚至4位来表示浮点数，而不是使用32位。</p>
</li>
<li>
<p>Knowledge distillation：一种通过训练小模型来模仿大型模型或模型集合的方法。</p>
</li>
<li>
<p>Low-rank factorization：这里的关键思路是用低维张量代替高维张量，以减少参数数量。例如，可以将 3x3 张量分解为 3x1 和 1x3 张量的乘积，这样就不再需要 9 个参数，而只需要 6 个参数。</p>
</li>
<li>
<p>Pruning</p>
</li>
</ul>
<p>所有上述四种技术在今天仍然适用和流行。Alpaca 采用<strong>Knowledge distillation</strong> 进行训练。QLoRA 结合使用了<strong>Low-rank factorization</strong> 和quantization。</p>
<p><strong>5.设计一种新的模型架构</strong></p>
<p>自 2012 年的 AlexNet 以来，我们看到了许多架构的兴衰，包括 LSTM、seq2seq 等。与这些相比，Transformer 的影响力，令人难以置信。自 2017 年以来，Transformer 就一直存在，而这种架构还能流行多久，还是个未解之谜。</p>
<p>开发一种新架构来超越 Transformer 并不容易。<strong>Transformer 在过去 6 年中进行了大量优化，而这种新架构，必须在人们当前关注的硬件，以当前关心的规模运行。</strong></p>
<p><em>注意：谷歌最初设计 Transformer 是为了在 TPU 上快速运行，后来才在 GPU 上进行了优化。</em></p>
<p>2021 年，Chris Ré&rsquo;s lab的 S4 引起了广泛关注，详见《Efficiently Modeling Long Sequences with Structured State Spaces 》(Gu et al., 2021)）。Chris Ré&rsquo;s lab仍在大力开发新架构，最近与初创公司 Together 合作开发的架构 Monarch Mixer（Fu ，2023 年）就是其中之一。</p>
<p><strong>他们的主要思路是，对于现有的 Transformer 架构，注意力的复杂度是序列长度的二次方，而 MLP 的复杂度是模型维度的二次方。具有次二次方复杂度的架构将更加高效。</strong></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKfhXic2KaghxXTvtiasfMAxAL5h6YZcwkicbbcbaAbzKicC5t3hDIX302Dw/640?wx_fmt=png" alt=""><em><strong>Monarch Mixer</strong></em>****</p>
<p><strong>6. 开发 GPU 替代方案</strong></p>
<p>自2012年的AlexNet以来，GPU一直是深度学习的主导硬件。<strong>实际上，AlexNet受欢迎的一个普遍认可的原因之一是它是首篇成功使用GPU来训练神经网络的论文。</strong> 在GPU出现之前，如果想要以AlexNet的规模训练模型，需要使用数千个CPU，就像谷歌在AlexNet之前几个月发布的那款。与数千个CPU相比，几块GPU对于博士生和研究人员来说更加容易得到，从而引发了深度学习研究的繁荣。</p>
<p>在过去的十年里，许多公司，包括大型企业和创业公司，都试图为人工智能创建新的硬件。最值得注意的尝试包括谷歌的TPU、Graphcore的IPU（IPU的进展如何？）以及Cerebras。SambaNova筹集了超过十亿美元来开发新的AI芯片，但似乎已转向成为一个生成式AI平台。</p>
<p><strong>有一段时间，人们对量子计算抱有很大的期望，其中关键参与者包括：</strong></p>
<ul>
<li>
<p>IBM的QPU</p>
</li>
<li>
<p>谷歌的量子计算机在今年早些时候在《自然》杂志上报道了量子误差减少的重大里程碑。其量子虚拟机可以通过Google Colab公开访问。</p>
</li>
<li>
<p>研究实验室，如麻省理工学院量子工程中心、马克斯·普朗克量子光学研究所、芝加哥量子交流中心、奥克里奇国家实验室等。</p>
</li>
</ul>
<p><strong>另一个同样令人兴奋的方向是光子芯片(photonic chips)。</strong> 我对这个领域知之尚浅， 所以，如果有错误，请纠正我。现有芯片使用电力来传输数据，这消耗大量的能量并且产生延迟。而光子芯片使用光子来传输数据，利用光速进行更快、更高效的计算。在这个领域，各种初创公司已经融资数亿美元，包括Lightmatter（2.7亿美元）、Ayar Labs（2.2亿美元）、Lightelligence（2亿美元以上）和Luminous Computing（1.15亿美元）。</p>
<p>以下是光子矩阵计算三种主要方法的进展时间线，摘自论文*《Photonic matrix multiplication lights up photonic accelerator and beyond》（Zhou，Nature 2022）*。这三种不同的方法分别是平面光转换（PLC）、马赫-曾德尔干涉仪（MZI）和波分复用（WDM）。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKh7PA7fuwUnLluwhceTZGk1G51PD8yjso3q5CcUFCheibCX56lw2JVvg/640?wx_fmt=png" alt=""></p>
<p><strong>7. 提高agents的可用性</strong></p>
<p>Agent指可以执行动作的大语言模型（可以理解为那些可以代替你来完成各种任务的代理人，所以叫Agent），例如浏览互联网、发送电子邮件、预订等。<strong>与本文中其他研究方向相比，这可能是最新的方向之一。由于Agent本身的新颖性和巨大潜力，人们对Agent充满热情。</strong> 而Auto-GPT现在是GitHub上 标星数量排名第25的、最受欢迎的repo。GPT-Engineering是另一个受欢迎的repo。</p>
<p><strong>尽管这个方向令人兴奋，但人们仍然对大语言模型是否足够可靠和高性能，以及能够被赋予行动的权力，存在疑虑。</strong> 然而，已经出现了一个应用场景，即将Agent用于社会研究，例如著名的斯坦福实验，该实验显示一小簇生成式Agent产生了新兴的社会行为：例如，从一个用户指定的想法开始，一个Agent想要举办情人节派对，Agent在接下来的两天里自动传播派对的邀请，结交新朋友，互相邀请参加派对&hellip;<em>（Generative Agents: Interactive Simulacra of Human Behavior, Park et al., 2023)，</em></p>
<p>在这个领域最值得注意的创业公司也许是Adept，由两位前Transformer的合著者和前OpenAI副总裁创立，到目前为止已经融资近5亿美元。去年，他们展示了他们的agent的如何浏览互联网的，还有就是演示了如何向Salesforce添加新账户。</p>
<p><strong>8. 迭代RLHF</strong></p>
<p>RLHF（从人类反馈中进行强化学习）很酷，但有点技巧性。如果人们找到更好的训练LLM的方法，也不奇怪。不过，在RLHF方面还存在许多未解决的问题，例如：</p>
<p><strong>①如何用数学方式，表示人类偏好？</strong></p>
<p>目前，人类偏好是通过比较来确定的：人类标注员确定响应A是否比响应B更好。然而，它没有考虑响应A比响应B好多少。</p>
<p><strong>②什么是人类偏好(preference)？</strong></p>
<p>Anthropic根据输出，在有益、诚实和无害三个方面对其模型的质量进行了衡量。请参阅Constitutional AI: Harmlessness from AI Feedback (Bai et al., 2022).</p>
<p>DeepMind试图生成能够取悦大多数人的响应。请参阅Fine-tuning language models to find agreement among humans with diverse preferences, (Bakker et al., 2022).</p>
<p>此外，我们想要能够表达立场的AI，还是对任何可能具有争议性的话题回避的传统AI呢？</p>
<p><strong>③“人类”偏好究竟是谁的偏好，是否要考虑到文化、宗教、政治倾向等的差异？获得足够代表所有潜在用户的训练数据存在许多挑战。</strong></p>
<p>例如，对于OpenAI的InstructGPT数据，没有65岁以上的标注员。标注员主要是菲律宾人和孟加拉人。请参阅InstructGPT: Training language models to follow instructions with human feedback (Ouyang et al., 2022).</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_jpg/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKxeBgsErKw5U0xwY2TMfemB0GADQiaH4LXzvxyORXibiaBKAfTHyIlxMOQ/640?wx_fmt=jpeg" alt=""><em>InstructGPT标注员的国籍统计信息</em></p>
<p>尽管社区主导的努力在其意图上值得赞赏，但可能导致数据存在偏见。例如，对于OpenAssistant数据集，222位（90.5％）回答者中有201位自我认定为男性。Jeremy Howard在Twitter上有一个很好的Thread：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKoV7xibic8hROMuCa2PZArecgNjW0vrU82eWrdus9u0B9lII8DnXfjRZw/640?wx_fmt=png" alt=""></p>
<p><strong>9.提高聊天界面效率</strong></p>
<p>自 ChatGPT 以来，人们一直在讨论聊天是否是一个适用于各种任务的界面。</p>
<p>详见：</p>
<ul>
<li>
<p><em>Natural language is the lazy user interface(Austin Z. Henley, 2023)</em></p>
</li>
<li>
<p><em>Why Chatbots Are Not the Future(Amelia Wattenberger, 2023)</em></p>
</li>
<li>
<p><em>What Types of Questions Require Conversation to Answer? A Case Study of AskReddit Questions(Huang et al., 2023)</em></p>
</li>
<li>
<p><em>AI chat interfaces could become the primary user interface to read documentation(Tom Johnson, 2023)</em></p>
</li>
<li>
<p><em>Interacting with LLMs with Minimal Chat (Eugene Yan, 2023)</em></p>
</li>
</ul>
<p>然而，这并不是一个新话题。在许多国家，尤其是在亚洲，聊天已经作为超级应用的界面使用了大约十年时间，Dan Grover在2014年就已经写过相关论文。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQK6trLzODD9b4CedEicNSMdkMMEJzPUYcKgPsU3JibKO4FdGuOhQ4fn5Bw/640?wx_fmt=png" alt=""></p>
<p>2016 年，当许多人认为应用程序已死、聊天机器人将成为未来时，讨论再次变得激烈紧张起来：</p>
<ul>
<li>
<p><em>On chat as interface(Alistair Croll, 2016)</em></p>
</li>
<li>
<p><em>Is the Chatbot Trend One Big Misunderstanding?(Will Knight, 2016)</em></p>
</li>
<li>
<p><em>Bots won’t replace apps. Better apps will replace apps (Dan Grover, 2016)</em></p>
</li>
</ul>
<p><strong>我个人喜欢聊天界面，原因如下：</strong></p>
<p><strong>①聊天界面是每个人，甚至是没有先前接触过计算机或互联网的人，都可以迅速学会使用的界面（普适性）。</strong> 在2010年代初，当我在肯尼亚的一个低收入居民区做志愿者时，我惊讶于那里的每个人在手机上进行银行业务时是多么熟悉，通过短信。那个社区没有人有计算机。</p>
<p><strong>② 聊天界面是易于访问的。如果你的双手整忙于其他事情，可以使用语音而不是文本。</strong></p>
<p><strong>③ 聊天也是一个非常强大的界面&ndash;你可以向它提出任何请求，它都会给予回复，即使回复不一定完美</strong></p>
<p>不过，笔者认为聊天界面在某些方面还可以继续改进：</p>
<p><strong>①单次可交流多条消息</strong></p>
<p>目前，我们基本上假设每次交流只有单轮消息。但这不是我和我的朋友发短信的方式。通常，我需要多条消息来完成我的思考，因为我需要插入不同的数据（例如图像、位置、链接），我可能在之前的消息中遗漏了某些内容，或者只是不想把所有内容都放在单一的大段落里。</p>
<p><strong>②多模态输入</strong></p>
<p><strong>在多模态应用领域，大部分精力都花在构建更好的模型上，而很少花在构建更好的界面上。以Nvidia的NeVA聊天机器人为例。</strong> 我不是用户体验专家，但我认为在这里可能有改进的空间。</p>
<p><em>附注：对这里提到NeVA团队表示抱歉，即使有了这个，你们的工作仍然非常酷！</em></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQKDtm3btU4RMfOc1W1F4P8WaKgQFsTRS5PzRhpzGpZyYNc9Nw69GQq5Q/640?wx_fmt=png" alt=""></p>
<p><strong>③将生成式AI融入工作流程中</strong></p>
<p>Linus Lee在他的分享“Generative AI interface beyond chats.”中很好地涵盖了这一点。例如，如果您想问关于您正在处理的图表中的某一列的问题，您应该能够只需指向那一列并提问。</p>
<p><strong>④消息编辑和删除</strong></p>
<p>用户输入的编辑或删除会如何改变与聊天机器人的对话流程？****</p>
<p><strong>10. 为非英语语言创建 LLM</strong></p>
<p><strong>我们知道，目前以英语为第一语言的 LLM 在性能、延迟和速度方面都无法很好地适用于许多其他语言。请参阅：</strong></p>
<ul>
<li>
<p><em>ChatGPT Beyond English: Towards a Comprehensive Evaluation of Large Language Models in Multilingual Learning(Lai et al., 2023)</em></p>
</li>
<li>
<p><em>All languages are NOT created (tokenized) equal (Yennie Jun, 2023)</em><br>
<img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/mmbiz_png/GMbmVebtYeiaM5jTv1RbB46nWppKdRoQK2oL0PSAmr13qcGd1zfwJ2YKVo6YcTNMODuhzh9Pzkc5l1vslB22jJw/640?wx_fmt=png" alt=""></p>
</li>
</ul>
<p>我只知道训练越南语的尝试（比如Symato 社区尝试），不过，本文几位早期读者告诉我，他们认为我不应该把这个方向包括进来，原因如下：</p>
<p>这与其说是一个研究问题，不如说是一个logistics问题。我们已经知道如何去做，只是需要有人投入资金和精力。不过，这并不完全正确。大多数语言都被认为是low-resource语言，例如，与英语或中文相比，很多语种的高质量数据要少得多，因此可能需要不同的技术来训练大型语言模型。参见：</p>
<pre><code>* *Low-resource Languages: A Review of Past Work and Future Challenges(Magueresse et al., 2020)*


* *JW300: A Wide-Coverage Parallel Corpus for Low-Resource Languages (Agić et al., 2019)*
</code></pre>
<p><strong>那些更为悲观的人认为，在未来，许多语言将会消失，互联网将由两个语言组成的两个宇宙：英语和汉语。这种思潮并不新鲜 - 有人还记得Esperanto吗？</strong></p>
<p><strong>人工智能工具，例如机器翻译和聊天机器人，对语言学习的影响仍然不明确。它们会帮助人们更快地学习新语言，还是会完全消除学习新语言的需求。</strong></p>
<p><strong>结论</strong></p>
<p>本文如有任何遗漏，请告知我，为了获取其他观点，请查阅这篇全面的论文《Challenges and Applications of Large Language Models (Kaddour et al., 2023).</p>
<p>上述问题比其他问题更加困难。例如，我认为上述第10个问题，即建立非英语语言的 LLM，只要有足够的时间和资源，就会比较简单。</p>
<p>上述第 1 个问题是减少幻觉输出，这将会难得多，因为幻觉只是 LLM 在做概率的事情。</p>
<p>第 4 ，让 LLM 更快、更便宜，这一点永远无法彻底解决。这方面已经取得了很大进展，以后还会有更多进展，但是这个方向的改进将会一直持续。</p>
<p>第 5 项和第 6 项，即新架构和新硬件，非常具有挑战性，但随着时间的推移，它们是不可避免的。由于架构和硬件之间的共生关系——新架构需要针对通用硬件进行优化，而硬件需要支持通用架构，它们可能会由同一家公司来完成。</p>
<p><strong>有些问题仅靠技术知识是无法解决的。例如，第 8 个问题，即改进从人类偏好中学习的方法，可能更多的是一个政策问题，而不是技术问题。第 9 个问题是提高聊天界面的效率，这更像是用户体验问题。我们需要更多具有非技术背景的人员与我们一起解决这些问题。</strong></p>
<p><strong>你最感兴趣的研究方向是什么？认为最有希望解决这些问题的方案是什么？很想听听您的意见。</strong></p>
<p><strong>【阅读更多】</strong></p>
<ul>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI5MjE4NzYzNw==&amp;mid=2247486921&amp;idx=1&amp;sn=a689747b4624fb691147f8f467fc740a&amp;chksm=ec047153db73f84547270763b6b1048618ba64984ee0ea4869aea7c6c7ccbc9255f12c878913&amp;scene=21#wechat_redirect">关于Nvidia加快投资AI初创公司投资的思考</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI5MjE4NzYzNw==&amp;mid=2247486839&amp;idx=1&amp;sn=98168be67428f330ad07218219019d38&amp;chksm=ec0471eddb73f8fbeab017ee851d9cca5368ea009f2a8d36a945c79f3425a8d9db8f0443b48f&amp;scene=21#wechat_redirect">刚刚！OpenAI提出Superalignment超级对齐20230706</a></p>
</li>
<li>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI5MjE4NzYzNw==&amp;mid=2247486792&amp;idx=1&amp;sn=060141e2c2c0de87fd3b7e2b4869b964&amp;chksm=ec0471d2db73f8c4601c4fb12973e8b6dc6b1608febc56749b639cfad73cced125d7aa10a6a9&amp;scene=21#wechat_redirect">关于OpenAI、DeepMind等向英国政府开放模型的几点看法</a></p>
</li>
</ul>
<p>更多AI工具，参考<a href="https://aibard123.com/">Github-AiBard123</a>，<a href="https://aibard123.com/">国内AiBard123</a></p>



          </div>

可关注我们的公众号：每天AI新工具

<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


