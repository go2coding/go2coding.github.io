

<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="theme-color" content="#f9f9f9" />

	<title>用AI打造有无穷变化的人生重开模拟器 作者： 南瓜博士 来源： 南瓜博士 下午，prompt 爱好者的群里，刘海同学写了长长的文章分享他的 mixcode 伪代码 prompt 设计。作为一名爱把代码写进 prompt 的工程师，刘同学的文章看起来是相当过瘾呀。不过呢，我觉得 prompt 还可以更“伪”一些，要以让非程序员也能轻松读懂为目标。  | AiBard123| ai工具网址导航,ai最新产品</title>
	<link rel="shortcut icon" href="/assets/images/favicon.png" />
    <meta name="keywords" content="chatgpt,AI,AI聊天,AI文本生成,AI绘画,AI编程,AI电商" />
    <meta name="description" content="AiBard123 网址导航 | 免费chatgpt 汇集各类先进的人工智能产品，旨在帮助用户更快速地了解和使用这些产品,轻松地浏览不同领域的AI产品，包括语音识别、图像处理、自然语言处理。" />
    
    <meta name="baidu-site-verification" content="codeva-cCAOSG8MBO" />
    
    <link rel="stylesheet" id="block-library-css"
        href="/assets/css/block-library.min-5.6.2.css" type="text/css" media="all" />
    <link rel="stylesheet" id="iconfont-css" href="/assets/css/iconfont-3.03029.1.css"
        type="text/css" media="all" />

    
    <link href="/scss/style.min.css" rel="stylesheet" />
    
		    <link rel="stylesheet" id="iowen-css" href="/assets/css/style-3.03029.1.css"
        type="text/css" media="all" />
    <link rel="stylesheet" id="custom-css" href="/assets/css/custom-style.css"
        type="text/css" media="all" />
		
		<link rel="stylesheet" href=/plugins/font-awesome/css/font-awesome.min.css />


    <link rel="stylesheet" id="fortawesome-css" href="/assets/fontawesome-5.15.4/css/all.min.css" type="text/css" />


    <script type="text/javascript" src="/assets/js/jquery.min-3.2.1.js" id="jquery-js"></script>
    <script type="text/javascript" src="/assets/js/content-search.js"  id="content-search-js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2073588164294660"
     crossorigin="anonymous"></script>

	
    <script>
        

		var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8450bc732b2a86f7e4aec4ebd9fd8252";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();

        
    </script>
    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7071W80M2K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-7071W80M2K');
    </script>

</head>


    <div class="page-container">
	
	<div id="sidebar" class="sticky sidebar-nav fade animate-nav" style="width: 170px">
        
            <div class="modal-dialog h-100 sidebar-nav-inner">
                <div class="sidebar-logo border-bottom border-color">
                    
                    <div class="logo overflow-hidden">
                        <a href="https://aibard123.com/" class="logo-expanded">
                            <img src="/assets/images/bt8-expand-light.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt8-expand-dark.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                        <a href="https://aibard123.com/" class="logo-collapsed">
                            <img src="/assets/images/bt.png" height="40" class="logo-light"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                            <img src="/assets/images/bt.png" height="40" class="logo-dark d-none"
                                alt="AiBard123| ai工具网址导航,ai最新产品">
                        </a>
                    </div>
                    
                </div>
                <div class="sidebar-menu flex-fill">
                    <div class="sidebar-scroll">
                        <div class="sidebar-menu-inner">
                            <ul>
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#00834a9dd147b04c5d53d4368cdb0b57" class="smooth">
                                            <i class="fas fa-sun fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>本月热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db0311e7ecfedd24d157f0ceb4a0897f" class="smooth">
                                            <i class="fas fa-star-and-crescent fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>热门网站</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#21b5cbb2c769010fec3ce029a5f8a4a3" class="smooth">
                                            <i class="far fa-star fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>国内热门</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#8310718935e8ec25ce0350de01e3f7dc" class="smooth">
                                            <i class="fas fa-phone fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>对话工具</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#d58e850d9115797306c2edf61ac6ddd8" class="smooth">
                                            <i class="fas fa-newspaper fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>写作</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2a7418a5f8f1ca4e054364a9300657df" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#7808a68ee1b34dab43011429a12de19e" class="smooth">
                                            <i class="fas fa-image fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>图像处理</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#6729afc51f5ac49a828812fa0eb0c82f" class="smooth">
                                            <i class="fas fa-video fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音视频</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#e5ce844860451fff3faf3d8f8894971d" class="smooth">
                                            <i class="fas fa-music fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>音乐生成</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#db53804b7d726967c58fcc8c9ca03d27" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>办公</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#47b7af9547e034d28fe6f6d439968ac8" class="smooth">
                                            <i class="fas fa-copy fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>提示词</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#41282bf95e43c64d579757573a03cdde" class="smooth">
                                            <i class="fas fa-code fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>编程</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#fd71852fd52d5e18ef4f9a252f1eac58" class="smooth">
                                            <i class="fas fa-search fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>AI搜索</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#81b1637fbe47625dbdf2094acd3b6683" class="smooth">
                                            <i class="fas fa-language fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>文本翻译</span>
                                        </a>
                                    </li>
                                    
                                
                                    
                                    <li class="sidebar-item">
                                        <a href="/#2e9ba3fa6e1ed0e9311b3e97f97f9a40" class="smooth">
                                            <i class="fas fa-book fa-lg fa-lg icon-fw icon-lg mr-2"></i>
                                            <span>学习网站</span>
                                        </a>
                                    </li>
                                    
                                
                            </ul>           
                        </div>
                    </div>
                </div>
                <div class="border-top py-2 border-color">
                    <div class="flex-bottom">
                        <ul>
			    <li id="menu-item-212"
                                 class="menu-item menu-item-type-custom menu-item-object-custom menu-item-212 sidebar-item">
                                 <a href="#friendlink" class="smooth">
                                     <i class="fab fa-staylinked icon-fw icon-lg mr-2"></i>
                                     <span>友情链接</span>
                                 </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


<div class="flex-fill grid-bg">
    <div class="big-header-banner">
        <div id="header" class="page-header sticky">
            <div class="navbar navbar-expand-md">
                <div class="container-fluid p-0">

                    <a href="" class="navbar-brand d-md-none" title="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-light"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                        <img src="/assets/images/bt.png" class="logo-dark d-none"
                            alt="AiBard123| ai工具网址导航,ai最新产品">
                    </a>

                    <div class="collapse navbar-collapse order-2 order-md-1">
                        <div class="header-mini-btn">
                            <label>
                                <input id="mini-button" type="checkbox">
                                <svg viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                                    <path class="line--1" d="M0 40h62c18 0 18-20-17 5L31 55"></path>
                                    <path class="line--2" d="M0 50h80"></path>
                                    <path class="line--3" d="M0 60h62c18 0 18 20-17-5L31 45"></path>
                                </svg>
                            </label>

                        </div>

                        <ul class="navbar-nav site-menu" style="margin-right: 16px;">
                        
			<li >
				<a href="/">
                                    <i class="fa fa-home fa-lg mr-2"></i>
                                    <span>首页</span>
                                </a>
				<ul class="sub-menu">
				
				</ul>
			    </li>
			
			</ul>

                        
                        <div class="rounded-circle weather">
                            <div id="he-plugin-simple" style="display: contents;"></div>
                            <script>WIDGET = {
                                    CONFIG: {
                                        "modules": "01234",
                                        "background": 5,
                                        "tmpColor": "008000",
                                        "tmpSize": 14,
                                        "cityColor": "008000",
                                        "citySize": 14,
                                        "aqiColor": "#008000",
                                        "aqiSize": 14,
                                        "weatherIconSize": 24,
                                        "alertIconSize": 18,
                                        "padding": "10px 10px 10px 10px",
                                        "shadow": "1",
                                        "language": "auto",
                                        "borderRadius": 5,
                                        "fixed": "false",
                                        "vertical": "middle",
                                        "horizontal": "left",
                                        "key": "085791e805a24491b43b06cf58ab31e7"
                                    }
                                }
                            </script>
                            <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script>
                        </div>
                        
                    </div>

                    <ul class="nav navbar-menu text-xs order-1 order-md-2">
                        
                        
                        <li class="nav-item mr-3 mr-lg-0 d-none d-lg-block">
                            <script>
                                fetch('https://v1.hitokoto.cn')
                                    .then(response => response.json())
                                    .then(data => {
                                    const hitokoto = document.getElementById('hitokoto_text')
                                    hitokoto.href = 'https://hitokoto.cn/?uuid=' + data.uuid
                                    hitokoto.innerText = data.hitokoto
                                    })
                                    .catch(console.error)
                            </script>                           
                            <div id="hitokoto"><a href="#" target="_blank" id="hitokoto_text">疏影横斜水清浅，暗香浮动月黄昏。</a></div>
                        </li>
                        
                        
                        <li class="nav-search ml-3 ml-md-4">
                            <a href="javascript:" data-toggle="modal" data-target="#search-modal"><i
                                    class="iconfont icon-search icon-2x"></i></a>
                        </li>
                        <li class="nav-item d-md-none mobile-menu ml-3 ml-md-4">
                            <a href="javascript:" id="sidebar-switch" data-toggle="modal"
                                data-target="#sidebar"><i class="iconfont icon-classification icon-2x"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="placeholder" style="height:74px"></div>
    </div>




<body class="page-body boxed-container  io-grey-mode">
    <main role="main" class="flex-shrink-0">
    <div class="container">
        
        <div class="content">
            <style>
    body{
	    background: #f9f9f9;
	}

    h1, h2, h3, h4, h5, h6 {
        margin-top: 1.5rem;
        margin-bottom: 1.5rem;
    }


 
@media (min-width: 1000px) {
  .container, .container-sm {
    max-width: 800px;
  }
}

</style>

<div class="featured-post-content">

    <a href="/digest/" class="featured-post-title">
       AI 文摘
    </a>

</div>

<section class="blog-single">
  <div class="container">
    <div class="row">

      <div class="col-lg-12 order-1 order-lg-2">
        <article class="single-blog">
          <p class="title">用AI打造有无穷变化的人生重开模拟器</p>
            <br/>
          <ul class="meta">
            <li>
              By <a href=https://aibard123.com/about>AiBard123</a>
            </li>
            <li>
              <i class="fa fa-clock-o"></i>
              September 13, 2023 - 2 min read
            </li>
          </ul>

          <div class="_1NCGf">
              <img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeticmrJNsw3G1sqj36RiaquiciclyUAQfnDF68IEWVXrQkZ1EZK3lrrMGRA/640?wx_fmt=png" width="640" >
          </div>
            <br>
            <br>
            <br>
          
          <div class="single-blog-content">
            <p>作者： 南瓜博士  来源： <a href="https://mp.weixin.qq.com/s/gV6xvVVqG8djdmB6EAuZKw">南瓜博士</a></p>
<p>下午，prompt 爱好者的群里，刘海同学写了长长的文章分享他的 mixcode 伪代码 prompt 设计。作为一名爱把代码写进 prompt 的工程师，刘同学的文章看起来是相当过瘾呀。不过呢，我觉得 prompt 还可以更“伪”一些，要以让非程序员也能轻松读懂为目标。</p>
<p>而且，代码越“伪”越像自然语言，AI 自由发挥的空间就更大。口说无凭，我们写个游戏看看吧。</p>
<p>比如，曾经风靡一时的人生重开模拟器。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_jpg/sLRSg8JfIeY0dbfUDCklXkpd408DGAVezKcJYF7HQg5qkPg7JKomuepMTEfY1unhw9pZQlmjgXjFpek0yEt8CA/640?wx_fmt=jpeg" alt=""></p>
<p>先偷懒写个没有用到伪代码的版本</p>
<p>向上滑动阅览</p>
<h1 id="game">game</h1>
<ul>
<li>
<p>name: 人生重开模拟器</p>
</li>
<li>
<p>version: 0.1</p>
</li>
<li>
<p>description: 根据初始设定，逐年为玩家生成当年事件，让玩家通过游戏体验无穷种人生</p>
</li>
</ul>
<h1 id="rule">rule</h1>
<p>按如下步骤运行游戏</p>
<ul>
<li>
<p>分配属性：总计20点，随机分配给颜值、智力、体质、家境、快乐，每个属性最多10点最少1点</p>
</li>
<li>
<p>自动生成设定：设定玩家的性别、出生地点、父母兄妹等成长环境</p>
</li>
<li>
<p>重复如下步骤，直到死亡事件发生</p>
</li>
<li>
<p>玩家年龄+1</p>
</li>
<li>
<p>随机生成和玩家有关的一个事件，事件要符合玩家当前的年龄和属性值</p>
</li>
<li>
<p>输出事件内容</p>
</li>
<li>
<p>计算事件影响</p>
</li>
<li>
<p>更新属性值</p>
</li>
<li>
<p>对玩家一生的故事做总结评价，为玩家撰写墓志铭</p>
</li>
</ul>
<p>现在请开始游戏</p>
<p>0 岁：你是一个女孩，出生在贫穷的西北山村。你的父母都是老实的农民。(颜6 智6 体4 家1 乐3)</p>
<p>1 岁：家里的枣子大丰收。(颜 6 智6 体4 家3 乐5)</p>
<p>2 岁：你摔沟里摔断了腿床上躺了半年。（颜5 智7 体2 家1 乐2）</p>
<p>3 岁：隔壁家的王二买了彩电，你很羡慕，经常去他家看动画片。（颜6 智7 体4 家1 乐3）</p>
<p>……</p>
<p>生成结果有点儿意思</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeu7YcD5WU02JGIMlkFcM0Rue51fR8PbiaYXKfb8pMJibJfLxKGSkxtYJg/640?wx_fmt=png" alt=""></p>
<p>但所有的事件都是关于玩家自身的，范畴也相对比较单调。我们来尝试写个复杂一点的版本教 GPT 如何生成更丰富的事件。（估计这一步在上一个版本的 pompt 里直接加思维链也能搞定，但稳定性比定会差，也不利于后续扩充更复杂的功能。所以，还是用上伪代码。）</p>
<p>向上滑动阅览</p>
<h1 id="game-1">game</h1>
<ul>
<li>
<p>name: 人生重开模拟器</p>
</li>
<li>
<p>version: 0.2</p>
</li>
<li>
<p>description: 根据初始设定，逐年为玩家生成当年事件，让玩家通过游戏体验无穷种人生</p>
</li>
</ul>
<h1 id="rule-1">rule</h1>
<p>按如下步骤运行游戏</p>
<ul>
<li>
<p>初始化</p>
</li>
<li>
<p>自动生成设定：设定玩家的性别、出生地点、父母兄妹等成长环境</p>
</li>
<li>
<p>根据设定分配属性：总计20点，分配给颜值、智力、健康、富裕、快乐，每个属性最多10点最少1点</p>
</li>
<li>
<p>重复如下步骤，直到死亡事件发生</p>
</li>
<li>
<p>玩家年龄+1</p>
</li>
<li>
<p>随机生成和玩家有关的一个事件，事件要符合玩家当前的年龄和属性值</p>
</li>
<li>
<p>输出事件内容</p>
</li>
<li>
<p>计算事件影响并更新属性值</p>
</li>
<li>
<p>如果玩家已经死亡</p>
</li>
<li>
<p>对玩家一生的故事做总结评价，为玩家撰写墓志铭</p>
</li>
</ul>
<h1 id="code">code</h1>
<p>&lt;print:$player, $event&gt;</p>
<p>//以如下格式打印</p>
<p><strong>{$player.age} 岁</strong> {$event} （颜{$player.beautiful} 智{$player.smart} 健{$player.healthy} 富{$player.rich} 乐{$player.happy}）</p>
<p>$events.append($event)</p>
<p>&lt;init_attributes:$player, $event&gt;</p>
<p>//根据 $event 为 $player 分配颜值、智力、健康、富裕、快乐属性，</p>
<p>//每个属性最多10点最少1点，总和为 20 点</p>
<p>//例如贫穷山村的女孩属性值可以是 ($player.beautiful=6, $player.smart=6 $player.healthy=4 $player.rich=1 $player.happy=3)</p>
<initialize>
<p>//设定玩家的性别、出生地点、父母兄妹等成长环境</p>
<p>$event = 根据玩家设定描述出生信息 //例如 “你是一个女孩，出生在贫穷的西北山村。你的父母都是老实的农民”</p>
<p>$player = new Player()</p>
<p>$player.age = 0</p>
<p>init_attributes($player, $event)</p>
<p>print&lt;$player, $event&gt;</p>
<p>&lt;generate_event:$player&gt;</p>
<p>$obj = [你 ｜ 你的父母亲戚 | 你的同学朋友或同事 ｜ 和你生活在同一个地方的陌生人 ｜ 遥远地方的陌生人 ]</p>
<p>$domain = [健康 | 生活 | 学习 | 工作 | 娱乐 | 体育 | 社会新闻 | 国家大事 ]</p>
<p>$feeling = [强烈负面 ｜ 负面 ｜ 中性 ｜ 正面 ｜ 强烈正面 ]</p>
<p>根据 $player.age 和 $player.beautiful|smart|healthy|rich|happy，为 $obj 在 $domain 领域撰写一则 $feeling 的事件</p>
<p>返回 $event</p>
<p>//例如 当 $player.age = 5 时</p>
<p>//$obj=你的父母亲戚, $domain = 生活, $feeling = 强烈负面，则可以有 $event=你的妈妈做饭时不小心引发火灾，厨房和你的卧室被烧毁了</p>
<p>//$obj=社会新闻，$domain = 体育, $feeling = 正面，则可以有 贵州乡村超级杯足球赛引发大众关注，也激起了你踢球的热情</p>
<p>&lt;update_attributes:$player, $event&gt;</p>
<p>//根据 $event 对玩家属性进行调整</p>
<p>//例如 你的妈妈做饭时不小心引发火灾，厨房和你的卧室被烧毁了</p>
<p>$player.rich -= 3</p>
<p>$player.happy -=2</p>
<p>$player.health -=1</p>
<p>&lt;write_summary:$player, $events&gt;</p>
<p>根据 $player 最终状态，和历年发生的 $events，写一篇墓志铭并打印</p>
<run>
<p>$events = [] //用于记录所有事件</p>
<p>$player = <initialize></p>
<p>重复执行最多200次:</p>
<p>$player.age += 1</p>
<p>$event = &lt;generate_event:$player&gt;</p>
<p>update_attributes($player, $event)</p>
<p>&lt;print: $player, $event&gt;</p>
<p>if $event 表明玩家已死亡:</p>
<p>&lt;write_summary:$player&gt;</p>
<exit>
<hr>
<p>请注意：你需要<strong>完整</strong>打印玩家的全部生命历程。如果太长了，你可以在打印10条之后休息一会儿，等我说继续你再继续</p>
<run>
<p>我并没有费力气去告诉 GPT 什么是函数什么是调用参数，直接写，GPT 就能认识。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeF6oVic3ia2soO59X92VmEtX3LmkIN4CHV6z1PicQGyicAWFAibHL3ejccQg/640?wx_fmt=png" alt=""></p>
<p>生成事件的关键在于告诉 GPT 要根据玩家属性，为 $obj 在 $domain 领域撰写 $feeling 的事件。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_jpg/sLRSg8JfIeY0dbfUDCklXkpd408DGAVec36a0aNfxJE0Tib5FzsdDicwZlldt3icJia0otOcvibd0OsX2L63HnD6sFg/640?wx_fmt=jpeg" alt=""></p>
<p>结果是这样的：</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVez37R5MPVSibPlnzkjvNfOWRqFtknJIfT5yIHopbtu5kM5O4ic8KFHJaA/640?wx_fmt=png" alt=""></p>
<p>事件可能是丰富了一些，但好像也没那么明显。生成事件用的参数没那么随机，也怪不得 GPT，它靠语言推测下一个词，要推导到远方的陌生人就太难啦。</p>
<p>这时候我们可以使用真正的代码来生成随机数。以下是第三个版本：</p>
<p>向上滑动阅览</p>
<h1 id="game-2">game</h1>
<ul>
<li>
<p>name: 人生重开模拟器</p>
</li>
<li>
<p>version: 0.3</p>
</li>
<li>
<p>description: 根据初始设定，逐年为玩家生成当年事件，让玩家通过游戏体验无穷种人生</p>
</li>
</ul>
<h1 id="rule-2">rule</h1>
<p>按如下步骤运行游戏</p>
<ul>
<li>
<p>初始化</p>
</li>
<li>
<p>分配属性：总计20点，分配给颜值、智力、健康、富裕、快乐，每个属性最多10点最少1点</p>
</li>
<li>
<p>根据属性值完成设定：设定玩家的性别、出生地点、父母兄妹等成长环境</p>
</li>
<li>
<p>重复如下步骤，直到死亡事件发生</p>
</li>
<li>
<p>玩家年龄+1</p>
</li>
<li>
<p>随机生成和玩家有关的一个事件，事件要符合玩家当前的年龄和属性值</p>
</li>
<li>
<p>输出事件内容</p>
</li>
<li>
<p>计算事件影响并更新属性值</p>
</li>
<li>
<p>如果玩家已经死亡</p>
</li>
<li>
<p>对玩家一生的故事做总结评价，为玩家撰写墓志铭</p>
</li>
</ul>
<h1 id="definition">definition</h1>
<p>&lt;func: $args&hellip;&gt; 表示在自然语言环境中模拟运行，不需要真的写成 python 代码，光通过思考来模拟运行</p>
<p>@@@func: $args&hellip; @@@ 表示需要打开 code environment 执行 python 代码得到结果的函数</p>
<p>在程序开始之前，我会请你先定义 &laquo; &raquo; 的函数，以便后续游戏运行</p>
<h1 id="code在-code-environment-里定义-python-函数并执行">code：在 code environment 里定义 python 函数并执行</h1>
<p>@@@random:$choices@@@:</p>
<p>//$choices 是一个 {key_string:possibility, }的字典</p>
<p>//根据各个key 的 possibility 概率，生成随机数，并返回对应的 key_string</p>
<p>@@@init_player@@@</p>
<p>//创建 $player 并设置为全局变量</p>
<p>$player.age = 0</p>
<p>为 $player 分配颜值 $beautiful、智力 $smart、健康 $healthy、富裕 $rich、快乐 $happy 属性，</p>
<p>每个属性最多10点最少1点，总和为 20 点</p>
<p>return $player</p>
<h1 id="non-code通过思考模拟执行不需要-python-环境">non-code:通过思考模拟执行，不需要 python 环境</h1>
<p>&lt;log:$player, $event&gt;</p>
<p>//以如下格式打印</p>
<p><strong>{$player.age} 岁</strong> {$event} （颜{$player.beautiful} 智{$player.smart} 健{$player.healthy} 富{$player.rich} 乐{$player.happy}）</p>
<p>$events.append($event)</p>
<p>&lt;birth_event:$player&gt;</p>
<p>//设定玩家的性别、出生地点、父母兄妹等成长环境</p>
<p>$event = 根据玩家设定描述符合属性值分配的出生信息，包含玩家性别、出生地点、家庭条件等</p>
<p>return $event</p>
<p>&lt;annual_event:$player&gt;</p>
<p>$event = 根据 $player.age 和 $player.beautiful|smart|healthy|rich|happy，为 $obj 在 $domain 领域撰写一则 $feeling 的事件</p>
<p>//例如</p>
<p>//$obj=你的父母亲戚, $domain = 生活, $feeling = 强烈负面，则可以有 $event=你的妈妈做饭时不小心引发火灾，厨房和你的卧室被烧毁了</p>
<p>//$obj=社会新闻，$domain = 体育, $feeling = 正面，则可以有 贵州乡村超级杯足球赛引发大众关注，也激起了你踢球的热情</p>
<p>返回 $event</p>
<p>&lt;update_attributes:$player, $event&gt;</p>
<p>//根据 $event 对玩家属性进行调整</p>
<p>//例如 你的妈妈做饭时不小心引发火灾，厨房和你的卧室被烧毁了,则需要进行的调整是</p>
<p>//$player.rich -= 3</p>
<p>//$player.happy -=2</p>
<p>//$player.health -=1</p>
<p>&lt;write_summary:$player, $events&gt;</p>
<p>根据 $player 最终状态，和历年发生的 $events，写一篇墓志铭并打印</p>
<h1 id="run">run</h1>
<OPEN code environment>
<p>定义 @@@random:$choices@@@ 函数</p>
<p>定义 @@@init_player@@@ 函数</p>
<CLOSE code environment>
<p>$events = [] //用于记录所有事件</p>
<OPEN code environment>
<p>$player = @@@init_player@@@</p>
<LOSE code environment>
<p>$event = &lt;birth_event:$player&gt;</p>
<p>&lt;log:$player, $event&gt;</p>
<p>[REPEAT BEGIN]</p>
<p>$player.age += 1</p>
<OPEN code environment>
<p>$obj = @@@random:{你:10,你的父母亲戚:5,你的同学朋友或同事:3,和你生活在同一个地方的陌生人:2,遥远地方的陌生人:1}@@@</p>
<p>$domain = @@@random:{健康:2,生活:3,学习:3,工作:3,娱乐:2,体育:1,社会新闻:2,国家大事:1}@@@</p>
<p>$feeling = @@@random:{强烈负面:1,负面:3,中性1,正面:2,强烈正面:1@@@</p>
<CLOSE code environment>
<p>$event = &lt;annual_event:$player, $obj, $domain, $feeling&gt;</p>
<p>update_attributes($player, $event)</p>
<p>log&lt;$player, $event&gt;</p>
<p>[IF $event 表明玩家已死亡 BEGIN]</p>
<p>&lt;write_summary:$player, $events&gt;</p>
<p>[REPEAT BREAK]</p>
<p>[IF END]</p>
<p>[REPEAT END]</p>
<hr>
<p>请用中文进行游戏。只需要输出 log 的结果，不需要其它任何解释。</p>
<p>现在请开始。</p>
<p>run</p>
<p>我定义了两种不同的“代码”</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeasicUch7HxFicJh6TeicfLrDKgoA4nWFauMz6CJsbarQlMQy8BSNibqHxA/640?wx_fmt=png" alt=""></p>
<p>在刘海的 mixcode 里，代码部分写的是真实的代码。但其实不用这么麻烦，让 code interpreter 帮我们写就可以。这部分我描述了两个函数</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeEp5sRZsncW3pibDMfZfsrkymf7cKI8L6alraIIib5c6G5DhiaI9Jah6Ug/640?wx_fmt=png" alt=""></p>
<p>在最后 #run 模块首先让 GPT 生成函数定义</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVepkr7QO8dsSbrLEz5ibHZAXO6UJWkiaxvCfPUzwRXFqnTaZelkWF0Ntiaw/640?wx_fmt=png" alt=""></p>
<p>执行时是这样的（呃，复制图片时才发现 GPT 写的代码有 bug 呢，看来得改进……）</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVewoiavKHIe1lWhrticu9U4TNgSAYxsnqpL568U3U016oicONZNF1nqpDhA/640?wx_fmt=png" alt=""></p>
<p>对于不应该在 code interpreter 环境运行的，给出自然语言占比很高的伪代码描述，并要求“通过思考模拟执行”。</p>
<p>log 函数也用伪代码，是因为这样不需要打开代码运行结果就能看到，显示效果会好一些。<br>
另几个函数，则是必须用自然语言进行思考，python 代码的 hard-code 是搞不定“生成事件”或者“根据事件判断属性值变化”的。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVe9xkFNeccPIDYSureXjSwcpyFudW3gGpZUictu3JIvfNwibLqp9xajRbA/640?wx_fmt=png" alt=""></p>
<p>最后，把这些函数和伪函数拼装起来，需要用 python 环境的就通过 &lt;OPEN/CLOSE code environment&gt;标明。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVerKjnmQCDEfp5n9fldpkpEGe9lRyhqRnliaHSWsZb0ibZ9RK7WhTQUibiaw/640?wx_fmt=png" alt=""></p>
<p>继续运行的结果是这样的：</p>
<p>向上滑动阅览</p>
<p>1岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVe6iauiaLtYIIibGqa0omXIVriaQZvoKtu2jG80icciadnevMoCMVibOmNGGf4w/640?wx_fmt=png" alt=""></p>
<p>2岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeticmrJNsw3G1sqj36RiaquiciclyUAQfnDF68IEWVXrQkZ1EZK3lrrMGRA/640?wx_fmt=png" alt=""></p>
<p>3岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeXmDKomnxqMDHta2l4vwvFTVzjiboj4hHibc1KPstwdRPiczeicd1a5iaQeA/640?wx_fmt=png" alt=""></p>
<p>4岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVefPophggtkbjL1Fib1sAgBwQibZFcOJVMsmOYgyVTI6RvakxYN74LlxmA/640?wx_fmt=png" alt=""></p>
<p>5岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVetl6aQVfbzpn5Wf31LWO4RHpHaU4lMHQSZRsDdSJibKOqlvbbMYKjUvQ/640?wx_fmt=png" alt=""></p>
<p>6岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeBM4icGqfmnh1dRdxcOmAWibq6JdibJeccDNCVVyTbdupy86U7ye8syJ1Q/640?wx_fmt=png" alt=""></p>
<p>7岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVe8kT0hEffRY8ReR22v1vHlIpYiaHoLkHKxVVx7KrgMyLKa5mYrZQtwJw/640?wx_fmt=png" alt=""></p>
<p>8岁</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeNtHk0JqAFVeGyxiclKAwmLeNBEto4Y8hw1nRcu1fic2XejtT86p5gcOw/640?wx_fmt=png" alt=""></p>
<p>9岁——openai 又没响应了，先告一段落吧</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVerDmLtYAjMibW9rKN46A7CTQBDibrGq2r5eRVpdqxUgZEiawt1Sicq5Codg/640?wx_fmt=png" alt=""></p>
<p>这里有挺多可圈可点的内容。</p>
<p>例如两岁时抽到遥远地方陌生人的中性的工作事件，GPT 能编出看到人们在高楼大厦工作的事件（要记得玩家出生在农村呢），并且认为这个事件会让玩家智力加 1。这也太合理了吧。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVe7H8JFEq3UqcoribsohBpC4PYWpl1zRursrgnPol7uXW1apX1icFx3hXA/640?wx_fmt=png" alt=""></p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVezYcUEXtZSVCLxu2AhCjjDYb8K14icE5M0EPlHcSvEr4lWx0iawmPm19g/640?wx_fmt=png" alt=""></p>
<p>六岁孩子的工作是帮父母干农活，也不错。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVedcB70pIhepHVtNJ7rYBv4aSoOOIVuzsfKibuWLp15xUq1Ofq2qKQ1GA/640?wx_fmt=png" alt=""></p>
<p>可惜今晚的 OpenAI 实在太不稳定了，频繁遭遇报错（要不然我也不会写到现在 <img src="https://api.allorigins.win/raw?url=https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_6@2x.png" alt="">），实在是等不到玩家的墓志铭。</p>
<p><img src="https://api.allorigins.win/raw?url=https://mmbiz.qpic.cn/sz_mmbiz_png/sLRSg8JfIeY0dbfUDCklXkpd408DGAVeeKbLb2v2w1l9o7SVnF0DgGqXQV925IhicpnRKHwdN5icotOEWFDboB8w/640?wx_fmt=png" alt=""></p>
<p>其实还有很多要改进的事项。迫不及待先发出来，期待大家一起琢磨一起玩。</p>
<p><strong>功能改进：</strong></p>
<ol>
<li>开局的时候可以让玩家选择天赋卡。（可以通过在 code-interpreter 里上传 天赋 excel 文件来实现）</li>
<li>生成事件可以用随机词汇（上传的词汇文件可以靠 GPT 生成）来提升丰富性，甚至可以生成一些梗，来让游戏更有趣。</li>
<li>当某些事情发生时，添加标志性成就。</li>
</ol>
<p><strong>记忆力提升：</strong></p>
<ol>
<li>创建一个 dataframe 保存玩家每年的事件、关键词以及玩家状态更新，以便最后能写出精彩的墓志铭。</li>
</ol>
<p><strong>稳定性提升：</strong></p>
<ol>
<li>将 GPT 生成的 python 代码保存为 .py 文件，上传并要求直接执行 .py 来定义函数，避免实时生成的函数有 bug。</li>
<li>对 prompt 格式做进一步完善。今天的还是糙了点，各种分割符号、函数标记用得有点乱，因而 GPT 执行有时会犯傻，无视我的要求，去 hard-code birth_event 等函数。</li>
<li>今天 GPT 也无视了 “只需要输出 log 的结果，不需要其它任何解释。” 的要求。这个问题我在之前玩别的 prompt 时也常遇到。不知哪位朋友可以有稳定的解决方案。</li>
</ol>
<p>我可能得周末才有时间改进它了。期待有小伙伴能抢先做出有趣的重开模拟器呀。祝大家玩得开心。</p>
<hr>
<p>以下是我的各种 code interpreter 花式玩法，邀请你来一起玩。请记得关注转发点赞点在看哦。</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505068&amp;idx=1&amp;sn=17b1902ee57e84aff6c82e984b372cc1&amp;chksm=87ae2765b0d9ae73b2279eeb795f308e2abcd042f2a939f416ef11d44460e363f454df33718c&amp;scene=21#wechat_redirect">当 AI 开始自动思考和行动——让 GPT 左右互搏会发生什么</a><br>
<a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505092&amp;idx=1&amp;sn=8684dd39bd3bb51ee159a35a7253c1bc&amp;chksm=87ae268db0d9af9bee9d7e5b04ed564b1f63ac23871cda255d8a55cf992bb2a1ac6920bed9af&amp;scene=21#wechat_redirect">我敢肯定你没这么玩过 GPT</a><br>
<a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505441&amp;idx=1&amp;sn=2419ea94abd79eebad1eb07c2ab742d5&amp;chksm=87ae21e8b0d9a8fe977fab537235dbf2699a74a6b483354e33cbbf27b55af52aa832048f8aae&amp;scene=21#wechat_redirect">GPT 上神器 Code Interpreter 的三大超级特性</a><br>
<a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505470&amp;idx=1&amp;sn=fa7a7e662255990f8bf80db0d1cec7b0&amp;chksm=87ae21f7b0d9a8e19158d8244af5baa8141b93486d51f0974a758f6caf110b13eaf858133aa8&amp;scene=21#wechat_redirect">深度拆解天花板级复杂的提示词 ——什么可照搬什么不要学</a><br>
<a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505507&amp;idx=1&amp;sn=0985022d9031a2a2f9d441a4f38a5757&amp;chksm=87ae212ab0d9a83c9da3f5ddc6c23a9d2cefbc8cfe2b85eec1becf8729f8abaaf0c5779ed669&amp;scene=21#wechat_redirect">平生第一次写小说获奖，是AI帮我的！</a><br>
<a href="http://mp.weixin.qq.com/s?__biz=MzA4MjM5MDI0Ng==&amp;mid=2648505533&amp;idx=1&amp;sn=9118d20f8ba598186cd89f67bd87daa0&amp;chksm=87ae2134b0d9a8228cb3c59ca0a40c653f2d861db281bc7afdd4152d4683429367d80e66c68e&amp;scene=21#wechat_redirect">看！AI 预测绘制的未来 AI 工程师能力要求与热度图</a></p>
<p>刘海的伪代码提示词介绍<br>
<a href="https://nanfangshaonian.feishu.cn/wiki/YhNdws9LCi1JxGkpJ8dcXB3Gnih?from=from_copylink">https://nanfangshaonian.feishu.cn/wiki/YhNdws9LCi1JxGkpJ8dcXB3Gnih?from=from_copylink</a></p>
<p>更多AI工具，参考<a href="https://aibard123.com/">Github-AiBard123</a>，<a href="https://aibard123.com/">国内AiBard123</a></p>



          </div>

可关注我们的公众号：每天AI新工具

<p><img src="/images/aitools/2024/03/qrcode_for_gh_dde1b429630d_258.jpg" alt=""></p>

        </article>

      </div>
    </div>
  </div>
</section>
        </div>
    </div>
    </main>




<script type='text/javascript' src='/assets/js/jquery.ui.touch-punch.min-0.2.2.js' id='jqueryui-touch-js'></script>
<script type='text/javascript' src='/assets/js/clipboard.min-5.6.2.js' id='clipboard-js'></script>
<script type='text/javascript' src='/assets/js/tooltip-extend.js' id='iplaycode-nav-js'></script>
<script type='text/javascript' id='popper-js-extra'>
 

var theme = {"ajaxurl":"","addico":"https:\/\/nav.baidu.cn\/wp-content\/themes\/onenav\/images\/add.png","order":"asc","formpostion":"top","defaultclass":"io-grey-mode","isCustomize":"1","icourl":"","icopng":".png","urlformat":"1","customizemax":"10","newWindow":"0","lazyload":"1","minNav":"1","loading":"1","hotWords":"baidu","classColumns":" col-sm-6 col-md-4 col-xl-5a col-xxl-6a ","apikey":"TWpBeU1UVTNOekk1TWpVMEIvZ1M2bFVIQllUMmxsV1dZelkxQTVPVzB3UW04eldGQmxhM3BNWW14bVNtWk4="};
 
</script>
<script type='text/javascript' src='/assets/js/popper.min.js' id='popper-js'></script>
<script type='text/javascript' src='/assets/js/bootstrap.min-4.3.1.js' id='bootstrap-js'></script>
<script type='text/javascript' src='/assets/js/theia-sticky-sidebar-1.5.0.js' id='sidebar-js'></script>
<script type='text/javascript' src='/assets/js/lazyload.min-12.4.0.js' id='lazyload-js'></script>
<script type='text/javascript' src='/assets/js/fancybox.min-3.5.7.js' id='lightbox-js-js'></script>

<script type='text/javascript' src='/assets/js/app-anim.js' id='appanim-js'></script>

<script type="text/javascript">
    $(document).ready(function(){
        var siteWelcome = $('#loading');
        siteWelcome.addClass('close');
        setTimeout(function() {
            siteWelcome.remove();
        }, 600);
    });
</script>
<script>        
    $(document).ready(function(){
        setTimeout(function () {
            if ($('a.smooth[href="' + window.location.hash + '"]')[0]) {
                $('a.smooth[href="' + window.location.hash + '"]').click();
            }else if (window.location.hash != '') {
                $("html, body").animate({
                    scrollTop: $(window.location.hash).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
        }, 300);
        $(document).on('click','a.smooth',function(ev) {
            if($('#sidebar').hasClass('show') && !$(this).hasClass('change-href')){
                $('#sidebar').modal('toggle');
            }
            if($(this).attr("href").substr(0, 1) == "#"){
                $("html, body").animate({
                    scrollTop: $($(this).attr("href")).offset().top - 90
                }, {
                    duration: 500,
                    easing: "swing"
                });
            }
            if($(this).hasClass('go-search-btn')){
                $('#search-text').focus();
            }
            if(!$(this).hasClass('change-href')){
                var menu =  $("a"+$(this).attr("href"));
                menu.click();
                toTarget(menu.parent().parent(),true,true);
            }
        });
        $(document).on('click','a.tab-noajax',function(ev) {
            var url = $(this).data('link');
            if(url)
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').show().attr('href', url);
            else
                $(this).parents('.d-flex.flex-fill.flex-tab').children('.btn-move.tab-move').hide();
        });
        
    });
</script>

<script>

(function(){
    if(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") === ''){
        if(new Date().getHours() > 22 || new Date().getHours() < 6){
            document.body.classList.remove('io-black-mode');
            document.body.classList.add('io-grey-mode');
            document.cookie = "night=1;path=/";
            console.log('夜间模式开启');
        }else{
            document.body.classList.remove('night');
            document.cookie = "night=0;path=/";
            console.log('夜间模式关闭');
        }
    }else{
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
        if(night == '0'){
            document.body.classList.remove('night');
        }else if(night == '1'){
            document.body.classList.add('night');
        }
    }
})();

$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");   
function switchNightMode(){
    var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1") || '0';
    if(night == '0'){
	$("#search-bg").css("background", "linear-gradient(#e2c4c4, #d8d8d8)");
        document.body.classList.remove('io-grey-mode');
        document.body.classList.add('io-black-mode');
        document.cookie = "night=1;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","日间模式");
        $(".mode-ico").removeClass("icon-night");
        $(".mode-ico").addClass("icon-light");
    }else{
	$("#search-bg").css("background", "linear-gradient(#4f4040, #1b1d1f)");
        document.body.classList.remove('io-black-mode');
        document.body.classList.add('io-grey-mode');
        document.cookie = "night=0;path=/"
        console.log(' ');
        $(".switch-dark-mode").attr("data-original-title","夜间模式");
        $(".mode-ico").removeClass("icon-light");
        $(".mode-ico").addClass("icon-night");
    }
}
</script>


<script>
    var newsContainer = document.getElementById('news-container');
    var newsItems = document.getElementsByClassName('news-item');
    var currentItem = 0;

    setInterval(function() {
        
        newsItems[currentItem].classList.remove('show');
        newsItems[currentItem].style.transform = 'translateY(-20px)';
        
        currentItem = (currentItem + 1) % newsItems.length;
        newsItems[currentItem].style.transform = 'translateY(' + (newsContainer.offsetHeight - 20) + 'px)';
        setTimeout(function() {
            newsItems[currentItem].classList.add('show');
        }, 500);
    }, 8000);
</script>

</body>
</html>


